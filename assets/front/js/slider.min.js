!function(a){a.fn.FeaturedArticles=function(b){if(this.length>1)return this.each(function(){a(this).FeaturedArticles(b)}),this;if(!(this.length<1)){var c={cycle:!0,effect_duration:900,slide_duration:5e3,auto_slide:!1,click_stop:!1,position_in:"left",distance_in:0,position_out:"right",distance_out:0,animate_opacity:!0,event:"click",effect:!1,width:0,height:0,fullwidth:!1,height_resize:!0,font_size:100,is_mobile:!1,video_container:"div.fa-video",play_video:".play-video",image_container:".fa-image-container",content_container:".fa_slide_content",_image:".main-image",full_image:!1,nav_prev:".prev",nav_next:".next",nav_elem:".nav",slide_selector:".slide",begin:function(){},load:function(){},stop:function(){},start:function(){},before:function(){},after:function(){},change:function(){},video_status:function(){},resize:function(){}};a.support.transition||(a.fn.transition=a.fn.animate);var d=a(this).data();d.slide_duration*=1e3,d.effect_duration*=1e3;var e,f,g,i,j,k,l=this,b=a.extend({},c,d,b),m=b.cycle,n=b.auto_slide,o=!1,p=!1,q="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,r=q?"touchend":"click",s=function(){b.animate_opacity||b.effect||(b.animate_opacity=!0);var c=(b.width/b.height,b.fullwidth?"100%":b.width);return a(l).css({width:c}),e=a(l).find(b.slide_selector),u(),b.begin.call(l,b),0==b.effect_duration&&(b.effect_duration=10),x(),I(0),A(),e.length>1&&B(!0),a(window).resize(t),b.load.call(l,b),q&&a(l).swiperight(function(){z()}).swipeleft(function(){y()}),a(l).removeClass("slider-loading").children().show(),l},t=function(){u(),b.resize.call(l,e)},u=function(){var c=b.width/b.height,d=a(l).width(),f=d/b.width*100;d>b.width&&(b.height_resize||(f=100));var g=b.font_size*f/100;g>100&&(g=100);var h={"font-size":g+"%",height:d/c};b.height_resize||(h["max-height"]=b.height),a(l).css(h),a.each(e,function(){var c=a(this).find(b.image_container+" "+b._image);v(c)});var j=G();if(j){var k=a(j).data("orig_img"),m=a(j).data("img_pieces");k&&k.show(),m&&(a.each(m,function(){a(this).remove()}),a(j).removeData("img_pieces")),i&&a(j).css({"z-index":2})}a.each(e,function(){var b=a(this).data("orig_img"),c=a(this).data("img_pieces");b&&b.show(),c&&(a.each(c,function(){a(this).remove()}),a(this).removeData("img_pieces"))})},v=function(c){var d=c.data("width"),e=c.data("height"),f=d/e,g=a(l).width(),h=a(l).height(),i=g/h;if(b.full_image||(g=c.parents(b.image_container).width(),h=c.parents(b.image_container).height(),i=g/h),f>i){a(c).css({width:"auto","max-width":"none",height:"100%","max-height":"100%"});var j=a(c).width();0==j?a(c).load(function(){a(c).css({"margin-left":-((a(c).width()-a(l).width())/2),"margin-top":0})}):a(c).css({"margin-left":-((j-g)/2),"margin-top":0})}else{a(c).css({width:"100%","max-width":"100%",height:"auto","max-height":"none"});var k=a(c).height();0==k?a(c).load(function(){a(c).css({"margin-top":-((a(c).height()-a(l).height())/2),"margin-left":0})}):a(c).css({"margin-top":-((k-h)/2),"margin-left":0})}},x=function(){if(b.nav_prev){var c=a(l).find(b.nav_prev);c.bind(r,function(a){a.preventDefault(),b.click_stop&&L(),z()})}if(b.nav_next){var d=a(l).find(b.nav_next);d.bind(r,function(a){a.preventDefault(),b.click_stop&&L(),y()})}b.nav_elem&&(f=a(l).find(b.nav_elem),a.each(f,function(c){a(this).bind(r,function(a){a.preventDefault(),b.click_stop&&L(),C(c)})}))},y=function(){var a=J(1);C(a)},z=function(){var a=J(-1);C(a)},A=function(){var c={position:"absolute",top:0,left:0,"z-index":1},d={"z-index":2};b.effect_duration>0&&(b.animate_opacity&&(c.opacity=0,d.opacity=1),d.filter=1),e.css(c),a(G()).css(d),a.each(e,function(c,d){var e=a(this).find(b.image_container);if(e.length>0){var f=a(e).data(),h=a("<img />",{src:f.image,"class":f.image_class,"data-width":f.width,"data-height":f.height});a(h).load(function(){var b=a(e).find("img");a(this).insertAfter(a(b)),a(b).remove(),v(a(this))})}var i=a(this).find(b.play_video),j=a(i).data("open_video"),k=a(this).find(b.video_container);if(!(k.length<1)){var m,n=a(this).find(b.image_container),f=a(k).data(),o=f.width;switch(f.aspect){case"16x9":default:m=9*o/16;break;case"4x3":m=3*o/4}if(j&&"modal"==j)var q=a(d).find(b.video_container).dialog({autoOpen:!1,width:o,height:m,maxWidht:o,maxHeight:m,draggable:!1,closeOnEscape:!0,resizable:!1,modal:!0,dialogClass:"fa-video-modal",close:function(){a(d).data("player").pause(),p=!1,B()},open:function(){if(a(d).data("player"))a(d).data("player").resizePlayer(),a(d).data("player").play();else{var e=a(this).FA_VideoPlayer({stateChange:function(a){c==g&&(b.video_status.call(l,a),1==a&&(b.is_mobile||this.play())),M(a),4==a&&q.dialog("close")}});a(d).data("player",e)}p=!0}});a(this).find(b.play_video).bind(r,function(e){if(e.preventDefault(),L(),j&&"modal"==j)return void q.dialog("open");if(a(k).show(),a(n).hide(),a(d).data("player"))a(d).data("player").play();else{var f=a(k).FA_VideoPlayer({stateChange:function(a){c==g&&(b.video_status.call(l,a),1==a&&(b.is_mobile||this.play())),M(a),4==a&&(f.hide(),n.show())}});a(d).data("player",f)}})}})},B=function(c){if(n&&!o&&2!=O()&&!p){K();var d=b.slide_duration;j=setTimeout(y,d),b.start.call(l),c&&a(l).mouseenter(function(){o=!0,K()}).mouseleave(function(){o=!1,B()})}},C=function(c){if(!c&&0!==c||i||c==g)return void(!1===c&&L());N(),i=!0;var d={current:G(),next:H(c),current_index:g,next_index:c};b.before.call(l,d);var h=D(),j=Q("current"),k=Q("next"),m=G(),n=H(c),o=a(n).find(b.image_container+" "+b._image);o.length>0&&v(o),a(m).css(j.css).transition(j.animation,b.effect_duration,function(){a(this).css({"z-index":1})}),a(n).css(k.css).transition(k.animation,b.effect_duration,function(){i=!1,B(),a(this).css({"z-index":2}),h&&E(d.current),b.after.call(l,d)}),a(e[g]).removeClass("current"),a(e[c]).addClass("current"),a(f[g]).removeClass("active"),a(f[c]).addClass("active"),I(c),b.change.call(l,d)},D=function(){var c=G(),d=a(c).data("effect")||b.effect;if(!d||!P(d))return!1;var e=a(c).data("img_pieces");if(!e){var f=a(c).find(".fa_slide_image.main-image");if(f.length<1)return!1;if(e=F(f,h),!e)return!1;a(c).data("img_pieces",e),a(c).data("orig_img",f),a.each(imgs,function(){a(this).insertBefore(a(f))}),a(f).hide()}var g=b.effect_duration/e.length,h=P(d);return a.each(e,function(c){if(h.delayed){if(h.reversed)var d=e.length-c;else var d=0==c?1:c;var f=d*g}else var f=b.effect_duration;a(this).transition(h.animation,f,function(){})}),a(c).find(b.content_container).transition({opacity:0},b.effect_duration/2),!0},E=function(c){var d=a(c).data("img_pieces");d&&a.each(d,function(){a(this).css({opacity:1,scale:1,rotate:0,skewX:0,skewY:0,x:0,y:0})}),a(c).find(b.content_container).css({opacity:1})},F=function(b,c){var d=P(c),e=d.cols,f=d.rows;w=a(b).width(),h=a(b).height(),pieceW=w/e,pieceH=h/f,imgs=[];for(var g=0;e>g;g++)for(var i=0;f>i;i++){var j=i*pieceH,k=(g+1)*pieceW,l=(i+1)*pieceH,m=g*pieceW,n=j+pieceH/2,o=m+pieceW/2,p=a(b).clone().css({clip:"rect("+j+"px, "+k+"px, "+l+"px, "+m+"px)",transformOrigin:o+"px "+n+"px"}).removeClass("main-image");imgs.push(p)}return imgs},G=function(){return g||0===g?e[g]:!1},H=function(a){return e[a]},I=function(b){g&&(a(f[g]).removeClass("active"),a(e[g]).removeClass("current")),a(f[b]).addClass("active"),a(e[b]).addClass("current"),g=b},J=function(a){var b=e.length,c=g+a;return 0>c?c=m?b-1:0:c>=b&&(c=m?0:b-1),g==c?!1:c},K=function(){j&&(clearTimeout(j),j=!1,b.stop.call(l))},L=function(){K(),n=!1},M=function(a){k=a,2!=a&&1!=a?(n=b.auto_slide,B()):L()},N=function(){var b=G();if(b){var c=a(b).data("player");c&&c.pause()}},O=function(){return k},P=function(c){var d={squares:{cols:20,rows:5,animation:{opacity:0,scale:0,y:-60,x:-60},delayed:!0,reversed:!0},zipper:{cols:50,rows:1,animation:{opacity:0,scale:0},delayed:!0},ripple:{cols:50,rows:1,animation:{opacity:0,scale:-2},delayed:!0},fade:{cols:50,rows:1,animation:{opacity:0},delayed:!0},simple_squares:{cols:20,rows:5,animation:{opacity:.5,scale:0},delayed:!1},flip:{cols:50,rows:1,animation:{rotate:360,opacity:0},delayed:!0,reversed:!1},wave:{cols:30,rows:3,animation:{scale:3,opacity:0},delayed:!0,reversed:!1},horizontal_slices:{cols:1,rows:10,animation:{x:-a(l).width()},delayed:!0,reversed:!0},vertical_slices:{cols:10,rows:1,animation:{y:a(l).height()},delayed:!0,reversed:!1},test:{cols:1,rows:1,animation:{x:a(this).width()},delayed:!0,reversed:!1}},e=c?c:b.effect;return d[e]},Q=function(a){var c={css:{"z-index":1,display:"block",visibility:"visible"},animation:{}};switch(a){case"current":switch(c.css["z-index"]=2,b.animate_opacity&&(c.animation.opacity=0),b.position_out){case"top":case"left":c.css[b.position_out]=0,c.animation[b.position_out]=-b.distance_out;break;case"bottom":c.css.top=0,c.animation.top=b.distance_out;break;case"right":c.css.left=0,c.animation.left=b.distance_out}break;case"next":switch(b.position_out){case"top":case"left":c.css[b.position_out]=0;break;case"bottom":c.css.top=0;break;case"right":c.css.left=0}switch(b.position_in){case"top":case"left":c.animation[b.position_in]=0,c.css[b.position_in]=-b.distance_in;break;case"bottom":c.animation.top=0,c.css.top=b.distance_in;break;case"right":c.animation.left=0,c.css.left=b.distance_in}b.animate_opacity&&(c.animation.opacity=1)}return c};return this.animating=function(){return i},this.settings=function(){return b},this.slides=function(){return e},this.get_current=function(){return G()},this.get_current_index=function(){return g},this.goto_index=function(a){C(a)},this.get_navs=function(){return f},this.center_img=function(c){var d=a(c).find(b.image_container+" "+b._image);v(d)},s()}}}(jQuery);